<!-- Apply Job Modal -->
<div class="modal fade" id="applyJobModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-4 p-3">

      <div class="modal-header border-0">
        <h5 class="modal-title fw-bold">
          Apply for: <span class="text-primary">{{ jobTitle }}</span>
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">

        <form [formGroup]="applyForm">

          <!-- Full Name -->
          <div class="mb-3">
            <label class="form-label fw-semibold">
              Full Name <span class="text-danger">*</span>
            </label>
            <input
              type="text"
              class="form-control"
              formControlName="fullName"
              [ngClass]="{ 'is-invalid': f['fullName'].touched && f['fullName'].invalid }"
            >
            <div class="invalid-feedback">Full name is required.</div>
          </div>

          <!-- Email -->
          <div class="mb-3">
            <label class="form-label fw-semibold">
              Email Address <span class="text-danger">*</span>
            </label>
            <input
              type="email"
              class="form-control"
              formControlName="email"
              [ngClass]="{ 'is-invalid': f['email'].touched && f['email'].invalid }"
            >
            <div class="invalid-feedback">Enter a valid email address.</div>
          </div>

          <!-- Contact Number -->
          <div class="mb-3">
            <label class="form-label fw-semibold">
              Contact Number <span class="text-danger">*</span>
            </label>
            <input
              type="text"
              maxlength="10"
              class="form-control"
              formControlName="contact"
              [ngClass]="{ 'is-invalid': f['contact'].touched && f['contact'].invalid }"
            >
            <div class="invalid-feedback">Enter a valid 10-digit number.</div>
          </div>

          <!-- Experience Dropdown -->
          <div class="mb-3">
            <label class="form-label fw-semibold">
              Experience Level <span class="text-danger">*</span>
            </label>
            <select
              class="form-select"
              formControlName="experience"
              [ngClass]="{ 'is-invalid': f['experience'].touched && f['experience'].invalid }"
            >
              <option value="">Select</option>
              <option value="Fresher">Fresher</option>
              <option value="0-1 years">0–1 years</option>
              <option value="1-3 years">1–3 years</option>
              <option value="3-5 years">3–5 years</option>
              <option value="5+ years">5+ years</option>
            </select>
            <div class="invalid-feedback">Please select experience.</div>
          </div>

          <!-- Expected Salary -->
          <div class="mb-3">
            <label class="form-label fw-semibold">
              Expected Salary (₹) <span class="text-danger">*</span>
            </label>
            <input
              type="number"
              class="form-control"
              formControlName="expectedSalary"
              [ngClass]="{ 'is-invalid': f['expectedSalary'].touched && f['expectedSalary'].invalid }"
            >
            <div class="invalid-feedback">Expected salary is required.</div>
          </div>

          <!-- LinkedIn URL (optional) -->
          <div class="mb-3">
            <label class="form-label fw-semibold">
              LinkedIn Profile URL (optional)
            </label>
            <input type="url" class="form-control" formControlName="linkedin">
          </div>

          <!-- Available From -->
          <div class="mb-3">
            <label class="form-label fw-semibold">
              Available From <span class="text-danger">*</span>
            </label>
            <input
              type="date"
              class="form-control"
              formControlName="availableFrom"
              [ngClass]="{ 'is-invalid': f['availableFrom'].touched && f['availableFrom'].invalid }"
            >
            <div class="invalid-feedback">Please select a date.</div>
          </div>

          <!-- Resume Upload -->
          <div class="mb-3">
            <label class="form-label fw-semibold">
              Upload Resume (PDF) <span class="text-danger">*</span>
            </label>
            <input
              type="file"
              accept=".pdf"
              class="form-control"
              (change)="onFileSelect($event)"
              [ngClass]="{ 'is-invalid': f['resume'].touched && f['resume'].invalid }"
            >
            <div class="invalid-feedback">Resume is required.</div>
          </div>

        </form>
      </div>

      <div class="modal-footer border-0">
        <button
          class="btn w-100 text-white py-2 rounded-4"
          style="background-color: var(--primary-color); font-weight: 600;"
          [disabled]="applyForm.invalid"
          (click)="submitForm()"
        >
          Submit Application
        </button>
      </div>

    </div>
  </div>
</div>

<!-- Success Toast -->
<div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 2000;">
  <div id="successToast" class="toast align-items-center text-bg-success border-0" role="alert">
    <div class="d-flex">
      <div class="toast-body">
        Application submitted successfully!
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
    </div>
  </div>
</div>

