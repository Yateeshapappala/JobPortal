<div class="container py-5" *ngIf="jobDetails">
  <div class="row g-4">

    <!-- Left Panel: Sticky Info -->
    <div class="col-lg-4">
      <div class="position-sticky" style="top: 80px;">

        <!-- Card: Title + Company + Location + Job Type -->


  <div class="mb-3">

  <!-- Job Title -->
  <h2 class="fw-bold mb-2" 
      style="color: var(--primary-color); line-height: 1.3;">
    {{ jobDetails.title }}
  </h2>

  <!-- Company + Location Row -->
  <div class="d-flex align-items-center gap-2 mb-2">

    <!-- Company -->
    <span class="fw-semibold">
      <i class="bi bi-building me-1"></i>
      {{ jobDetails.company_name }}
    </span>

    <!-- Dot Divider -->
    <span class="text-muted">â€¢</span>

    <!-- Location -->
    <span class="text-muted">
      <i class="bi bi-geo-alt-fill me-1"></i>
      {{ jobDetails.candidate_required_location }}
    </span>

  </div>

  <!-- Job Type Badge -->
  <span class="badge rounded-pill px-3 py-1"
        style="
          background-color: var(--primary-light);
          color: var(--primary-color);
          font-size: 0.8rem;
          font-weight: 600;
        ">
    {{ jobDetails.job_type | titlecase }}
  </span>

</div>




        <!-- Salary Card -->
        <div class="card shadow-sm rounded-4 p-3 mb-4">
          <h5 class="fw-bold mb-2" style="color: var(--primary-color);">
            <i class="bi bi-currency-dollar me-1"></i> Salary
          </h5>
          <p class="mb-0" *ngIf="jobDetails.salary; else noSalary">
            {{ jobDetails.salary }}
          </p>
          <ng-template #noSalary>
            <span class="text-muted">Not disclosed</span>
          </ng-template>
        </div>

        <!-- Skills / Tags Card -->
        <div class="card shadow-sm rounded-4 p-3 mb-4">
          <h5 class="fw-bold mb-2" style="color: var(--primary-color);">
            <i class="bi bi-tags me-1"></i> Skills
          </h5>
          <div class="d-flex flex-wrap gap-2">
            <span *ngFor="let tag of jobDetails.tags"
                  
                  title="{{ tag }}">
              {{ tag }}
            </span>
          </div>
        </div>

        <!-- Apply Button -->
      <button
  class="btn w-100 rounded-4 py-2"
  style="background-color: var(--primary-color); color: white; font-weight: 600;"
  data-bs-toggle="modal"
  data-bs-target="#applyJobModal">
  <i class="bi bi-envelope-check me-1"></i> Apply Now
</button>







      </div>
    </div>

    <!-- Right Panel: Description -->
    <div class="col-lg-8">
      <div class="card shadow-sm rounded-4 p-4">

        <!-- Back Button -->
        <button
          class="btn btn-light rounded-circle mb-3 d-flex align-items-center justify-content-center p-2 shadow-sm"
          style="width: 40px; height: 40px; color: var(--primary-color); border: none;"
          (click)="goBack()"
          title="Back to Jobs"
        >
          <i class="bi bi-arrow-left fs-5"></i>
        </button>

        <!-- Job Description -->
        <h5 class="fw-bold mb-2" style="color: var(--primary-color);">
          <i class="bi bi-file-text me-1"></i> Job Description
        </h5>
        <div class="mb-4" [innerHTML]="jobDetails.description" style="line-height: 1.6; font-size: 1rem;"></div>

        <!-- Published Date -->
        <p class="text-muted mb-0">
          <i class="bi bi-calendar-event me-1"></i>
          Posted on {{ jobDetails.publication_date | date:'mediumDate' }}
        </p>

      </div>
    </div>

  </div>
</div>
<!-- <app-apply-modal [jobTitle]="jobDetails.title"></app-apply-modal> -->

<!-- Include the modal below -->
<app-apply-modal [jobTitle]="jobDetails.title"></app-apply-modal>